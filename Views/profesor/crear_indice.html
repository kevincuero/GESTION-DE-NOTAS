{% extends 'profesor/base.html' %}

{% block title %}{% if indice %}Editar{% else %}Crear{% endif %} Índice de Aprendizaje - Profesor{% endblock %}

{% block main_content %}
    <div class="dashboard-header">
        <h1 class="welcome-message">Bienvenido, {{ usuario['nombre'] }}</h1>
    </div>

                        <div class="container">
                <h1>{% if indice %}Editar{% else %}Crear{% endif %} Índice de Aprendizaje</h1>

                <form method="POST" action="{% if indice %}{{ url_for('editar_indice', id_indice=indice['id']) }}{% else %}{{ url_for('crear_indice') }}{% endif %}">
                    <label for="nombre">Nombre del Índice:</label>
                    <input type="text" name="nombre" id="nombre" required value="{{ indice['nombre'] if indice else '' }}" placeholder="Ej: Resolución de Problemas">

                    <label for="descripcion">Descripción:</label>
                    <textarea name="descripcion" id="descripcion" rows="3" placeholder="Describe qué aspecto del aprendizaje evalúa este índice...">{{ indice['descripcion'] if indice else '' }}</textarea>

                    <label for="parcial">Parcial/Evaluación Asociada:</label>
                    <select name="parcial" id="parcial" required>
                        <option value="" disabled {% if not indice %}selected{% endif %}>-- Selecciona el parcial --</option>
                        <option value="Parcial 1" {% if indice and indice['parcial'] == 'Parcial 1' %}selected{% endif %}>Parcial 1</option>
                        <option value="Parcial 2" {% if indice and indice['parcial'] == 'Parcial 2' %}selected{% endif %}>Parcial 2</option>
                        <option value="Parcial 3" {% if indice and indice['parcial'] == 'Parcial 3' %}selected{% endif %}>Parcial 3</option>
                        <option value="Examen Final" {% if indice and indice['parcial'] == 'Examen Final' %}selected{% endif %}>Examen Final</option>
                    </select>

                    <label for="porcentaje">Porcentaje de Importancia (%):</label>
                    <input type="number" name="porcentaje" id="porcentaje" min="0" max="100" step="0.1" required value="{{ indice['porcentaje'] if indice else '' }}" placeholder="Ej: 25">

                    <button type="submit" style="margin-top: 1rem;">{% if indice %}Actualizar{% else %}Crear{% endif %} Índice</button>
                </form>

                <!-- Botón de regresar -->
                <a href="{{ url_for('indices') }}" style="text-decoration: none; display: block;">
                    <button type="button" class="btn-back">Volver</button>
                </a>
            </div>
            </div>
{% endblock %}
